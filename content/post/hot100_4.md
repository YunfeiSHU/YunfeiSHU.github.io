+++
date = '2025-09-13T16:34:43+08:00'
draft = false
title = 'Hot100_4'
summary = '8~9'
tags = ['hot100']
+++

8. 无重复字符的最长字串：

   ![image-20250913114402603](./assets/image-20250913114402603.png)

   快慢指针（滑动窗口）问题： 

   - 快指针r始终r++；**慢指针l只在遇到重复字符时l++，且l需要移动到重复位的下一位**（过程中，始终l<=r）
   - 快指针r到达s末尾指针停止移动，即：`r>=len(s)`结束
     -  `visited[byte]bool`记录是否访问
     - `s`不一定有重复，所以需要在无重复时：根据非重复位，记录子串长度`res = max(res,r-l+1)`

   ```go
   func lengthOfLongestSubstring(s string) int {
       l , r , n :=  0, 0,len(s)
       visited := make(map[byte]bool)
       res := 0
       for ;r < n;r++{
           if visited[s[r]] {
               for s[l] != s[r] {
                   //  res = max(res,r - l) // 根据第一个重复位计算，但它不一定有重复
                   visited[s[l]] = false
                   l++
               }
               l++
           }
           res = max(res,r - l + 1) //不一定有重复，故而在无重复时，提前计算
           visited[s[r]]=true
       }
       return res
   }
   ```

   

9. 找到字符串中的同分异构词：

   ![image-20250913152556937](./assets/image-20250913152556937.png)

   - 快慢指针（滑动窗口）问题：保证 r~l 之间 始终为`len(t)`的窗口，l,r同时++

   - 如何验证异构：

     1. `visited [26]int{} 值为字符出现次数` 数组之间直接判断是否相同

        ```go
        func findAnagrams(s string, t string) []int {   
            l , r , n := 0 ,len(t)-1,len(s)
            visited := [26]int{}
            result := []int{}
            for _,v := range t{
                visited[int(v-'a')]++
            }
            for ;r<n;r++{
                res := [26]int{}
                for _,v := range s[l:r+1] {
                    res[int(v-'a')]++
                } 
                if visited == res {
                    result = append(result,l)
                }
                l++
            } 
            return result
        }
        ```

     2. `charDiff[26]int{} 值为窗口内字符差值数 + diffCount`差值法 验证 异构

        ```go
        func findAnagrams(s string, t string) []int {
            n, m := len(s), len(t)
            if n < m {
                return []int{}
            }
            
            // 差值数组：窗口字符数 - 目标字符数
            charDiff := [26]int{}
            result := []int{}
            
            // 初始化第一个窗口的差值
            for i := 0; i < m; i++ {
                charDiff[s[i]-'a']++  // 窗口字符+1
                charDiff[t[i]-'a']--  // 目标字符-1
            }
            
            // 计算初始差异个数
            diffCount := 0
            for _, diff := range charDiff {
                if diff != 0 {
                    diffCount++
                }
            }
            
            // 如果第一个窗口就是异位词
            if diffCount == 0 {
                result = append(result, 0)
            }
            
            // 滑动窗口，增量更新
            for i := 0; i < n-m; i++ {
                // 移除窗口左侧字符 s[i]
                leftChar := s[i] - 'a'
                //差异比较 和  charDiff[leftChar]-- 谁先谁后都可，至少差异比较的条件也要跟着变
                if charDiff[leftChar] == 1 {      // 1→0，差异减少
                    diffCount--
                } else if charDiff[leftChar] == 0 { // 0→-1，差异增加
                    diffCount++
                }
                charDiff[leftChar]--
                
                // 添加窗口右侧字符 s[i+m]
                rightChar := s[i+m] - 'a'
                if charDiff[rightChar] == -1 {     // -1→0，差异减少
                    diffCount--
                } else if charDiff[rightChar] == 0 { // 0→1，差异增加
                    diffCount++
                }
                charDiff[rightChar]++
                
                // 检查当前窗口是否为异位词
                if diffCount == 0 {
                    result = append(result, i+1)
                }
            }
            
            return result
        }
        
        ```

        
